





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://assets-cdn.github.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-hqbuBb0QOOmiWgl8a1V1N5q6TI/G0A2hVt/lCFYafR+fYsuXeRUcsdcb/yUyVEHYXktmUXl0Mx9s/BOUNZVq4w==" rel="stylesheet" href="https://assets-cdn.github.com/assets/frameworks-23c9e7262eee71bc6f67f6950190a162.css" />
  <link crossorigin="anonymous" media="all" integrity="sha512-lrME37IqstYaAbmdAgARk3g4Gub9sH3ryQzN69xmsis+6NK4A4UcXoMYUOr5qLYTo4yo0yeoXQmzLm811N6YbQ==" rel="stylesheet" href="https://assets-cdn.github.com/assets/github-6f5081242ae1bd2621941d3f8a8195dc.css" />
  
  
  
  

  <meta name="viewport" content="width=device-width">
  
  <title>spartacus/SpartacusReference-FR.md at master · CommunicationsSecurityEstablishment/spartacus</title>
    <meta name="description" content="GitHub is where people build software. More than 27 million people use GitHub to discover, fork, and contribute to over 80 million projects.">
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta property="og:image" content="https://avatars3.githubusercontent.com/u/17620943?s=400&amp;v=4" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="CommunicationsSecurityEstablishment/spartacus" /><meta property="og:url" content="https://github.com/CommunicationsSecurityEstablishment/spartacus" /><meta property="og:description" content="Contribute to spartacus development by creating an account on GitHub." />

  <link rel="assets" href="https://assets-cdn.github.com/">
  <link rel="web-socket" href="wss://live.github.com/_sockets/VjI6Mjc0NzY1MjkzOjI0MDJmZGMwMzc3OWYzNGVjMTg3NmI2NzE1ZTM3YzZmMDJmNTlmYzkwNjQ4M2YwYjMzMTYzY2M4NWQwYjQ4OTQ=--2a11841abe2f6faacf15bdfa15d0a1c0821c2e48">
  <meta name="pjax-timeout" content="1000">
  <link rel="sudo-modal" href="/sessions/sudo_modal">
  <meta name="request-id" content="F32D:63F1:DACD94:1A5C675:5AFD6B35" data-pjax-transient>


  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">
    <meta name="google-analytics" content="UA-3769691-2">

<meta name="octolytics-host" content="collector.githubapp.com" /><meta name="octolytics-app-id" content="github" /><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event" /><meta name="octolytics-dimension-request_id" content="F32D:63F1:DACD94:1A5C675:5AFD6B35" /><meta name="octolytics-dimension-region_edge" content="iad" /><meta name="octolytics-dimension-region_render" content="iad" /><meta name="octolytics-actor-id" content="36998477" /><meta name="octolytics-actor-login" content="kommisar5150" /><meta name="octolytics-actor-hash" content="d871440e4a0f5e8824c3e94587acb69d6f0f6b673778bdec322014d022a8056b" />
<meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" />




  <meta class="js-ga-set" name="dimension1" content="Logged In">


  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="kommisar5150">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="OWYyOTk2MmY2MDUyNjJiNmUyMjlhNDA1ZjYzOWU2NzQ3OWRhNTlmZGNmMTI1ZDkwODFkYjllNzMyNGE5ZjdjM3x7InJlbW90ZV9hZGRyZXNzIjoiMTM0LjE5MC4xMzUuMTk1IiwicmVxdWVzdF9pZCI6IkYzMkQ6NjNGMTpEQUNEOTQ6MUE1QzY3NTo1QUZENkIzNSIsInRpbWVzdGFtcCI6MTUyNjU1NzUwNiwiaG9zdCI6ImdpdGh1Yi5jb20ifQ==">

    <meta name="enabled-features" content="UNIVERSE_BANNER,FREE_TRIALS,MARKETPLACE_INSIGHTS,MARKETPLACE_SELF_SERVE,MARKETPLACE_INSIGHTS_CONVERSION_PERCENTAGES">

  <meta name="html-safe-nonce" content="932fd6ce5bec8855042ed6c4e6f79cf94c9d9989">

  <meta http-equiv="x-pjax-version" content="02abebee03286ab3639659a40e7feb1a">
  

      <link href="https://github.com/CommunicationsSecurityEstablishment/spartacus/commits/master.atom" rel="alternate" title="Recent Commits to spartacus:master" type="application/atom+xml">

  <meta name="description" content="Contribute to spartacus development by creating an account on GitHub.">
  <meta name="go-import" content="github.com/CommunicationsSecurityEstablishment/spartacus git https://github.com/CommunicationsSecurityEstablishment/spartacus.git">

  <meta name="octolytics-dimension-user_id" content="17620943" /><meta name="octolytics-dimension-user_login" content="CommunicationsSecurityEstablishment" /><meta name="octolytics-dimension-repository_id" content="53072932" /><meta name="octolytics-dimension-repository_nwo" content="CommunicationsSecurityEstablishment/spartacus" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="53072932" /><meta name="octolytics-dimension-repository_network_root_nwo" content="CommunicationsSecurityEstablishment/spartacus" /><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="false" />


    <link rel="canonical" href="https://github.com/CommunicationsSecurityEstablishment/spartacus/blob/master/Documentation/SpartacusReference-FR.md" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://assets-cdn.github.com/favicon.ico">

<meta name="theme-color" content="#1e2327">


  <meta name="u2f-support" content="true">

<link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-in env-production page-blob">
    

  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="p-3 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    



        
<header class="Header  f5" role="banner">
  <div class="d-flex flex-justify-between px-3 container-lg">
    <div class="d-flex flex-justify-between ">
      <div class="">
        <a class="header-logo-invertocat" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <svg height="32" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>

      </div>

    </div>

    <div class="HeaderMenu d-flex flex-justify-between flex-auto">
      <div class="d-flex">
            <div class="">
              <div class="header-search scoped-search site-scoped-search js-site-search" role="search">
  <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-site-search-form" data-scope-type="Repository" data-scope-id="53072932" data-scoped-search-url="/CommunicationsSecurityEstablishment/spartacus/search" data-unscoped-search-url="/search" action="/CommunicationsSecurityEstablishment/spartacus/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
    <label class="form-control header-search-wrapper  js-chromeless-input-container">
          <a class="header-search-scope no-underline" href="/CommunicationsSecurityEstablishment/spartacus/blob/master/Documentation/SpartacusReference-FR.md">This repository</a>
      <input type="text"
        class="form-control header-search-input  js-site-search-focus js-site-search-field is-clearable"
        data-hotkey="s,/"
        name="q"
        value=""
        placeholder="Search"
        aria-label="Search this repository"
        data-unscoped-placeholder="Search GitHub"
        data-scoped-placeholder="Search"
        autocapitalize="off"
        >
        <input type="hidden" class="js-site-search-type-field" name="type" >
    </label>
</form></div>

            </div>

          <ul class="d-flex pl-2 flex-items-center text-bold list-style-none" role="navigation">
            <li>
              <a class="js-selected-navigation-item HeaderNavlink px-2" data-hotkey="g p" data-ga-click="Header, click, Nav menu - item:pulls context:user" aria-label="Pull requests you created" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls" href="/pulls">
                Pull requests
</a>            </li>
            <li>
              <a class="js-selected-navigation-item HeaderNavlink px-2" data-hotkey="g i" data-ga-click="Header, click, Nav menu - item:issues context:user" aria-label="Issues you created" data-selected-links="/issues /issues/assigned /issues/mentioned /issues" href="/issues">
                Issues
</a>            </li>
                <li>
                  <a class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-octo-click="marketplace_click" data-octo-dimensions="location:nav_bar, group:" data-selected-links=" /marketplace" href="/marketplace">
                    Marketplace
</a>                </li>
            <li>
              <a class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="/explore">
                Explore
</a>            </li>
          </ul>
      </div>

      <div class="d-flex">
        
<ul class="user-nav d-flex flex-items-center list-style-none" id="user-links">
  <li class="dropdown js-menu-container">
    <span class="d-inline-block  px-2">
      
    <a aria-label="You have no unread notifications" class="notification-indicator tooltipped tooltipped-s  js-socket-channel js-notification-indicator" data-hotkey="g n" data-ga-click="Header, go to notifications, icon:read" data-channel="notification-changed:36998477" href="/notifications">
        <span class="mail-status "></span>
        <svg class="octicon octicon-bell" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.99 11.991v1H0v-1l.73-.58c.769-.769.809-2.547 1.189-4.416.77-3.767 4.077-4.996 4.077-4.996 0-.55.45-1 .999-1 .55 0 1 .45 1 1 0 0 3.387 1.229 4.156 4.996.38 1.879.42 3.657 1.19 4.417l.659.58h-.01zM6.995 15.99c1.11 0 1.999-.89 1.999-1.999H4.996c0 1.11.89 1.999 1.999 1.999z"/></svg>
</a>
    </span>
  </li>

  <li class="dropdown js-menu-container">
    <details class="dropdown-details details-reset js-dropdown-details d-flex px-2 flex-items-center">
      <summary class="HeaderNavlink"
         aria-label="Create new…"
         data-ga-click="Header, create new, icon:add">
        <svg class="octicon octicon-plus float-left mr-1 mt-1" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5v2z"/></svg>
        <span class="dropdown-caret mt-1"></span>
      </summary>

      <ul class="dropdown-menu dropdown-menu-sw">
        
<a class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>



  <div class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="CommunicationsSecurityEstablishment/spartacus">This repository</span>
  </div>
    <a class="dropdown-item" href="/CommunicationsSecurityEstablishment/spartacus/issues/new" data-ga-click="Header, create new issue">
      New issue
    </a>

      </ul>
    </details>
  </li>

  <li class="dropdown js-menu-container">

    <details class="dropdown-details details-reset js-dropdown-details d-flex pl-2 flex-items-center">
      <summary class="HeaderNavlink name mt-1"
        aria-label="View profile and more"
        data-ga-click="Header, show menu, icon:avatar">
        <img alt="@kommisar5150" class="avatar float-left mr-1" src="https://avatars2.githubusercontent.com/u/36998477?s=40&amp;v=4" height="20" width="20">
        <span class="dropdown-caret"></span>
      </summary>

      <ul class="dropdown-menu dropdown-menu-sw">
        <li class="dropdown-header header-nav-current-user css-truncate">
          Signed in as <strong class="css-truncate-target">kommisar5150</strong>
        </li>

        <li class="dropdown-divider"></li>

        <li><a class="dropdown-item" href="/kommisar5150" data-ga-click="Header, go to profile, text:your profile">
          Your profile
        </a></li>
        <li><a class="dropdown-item" href="/kommisar5150?tab=stars" data-ga-click="Header, go to starred repos, text:your stars">
          Your stars
        </a></li>
          <li><a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, your gists, text:your gists">Your gists</a></li>

        <li class="dropdown-divider"></li>

        <li><a class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help">
          Help
        </a></li>

        <li><a class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings">
          Settings
        </a></li>

        <li><!-- '"` --><!-- </textarea></xmp> --></option></form><form class="logout-form" action="/logout" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="Vn1GRqK8AlaChSP9v4CG+S0LFL/LVNmnnogpp2GxbP0AzhwaW0Kz/ygDuFKKsgiMqDPz6fxa77+JXc/jo+CCiQ==" />
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
        </form></li>
      </ul>
    </details>
  </li>
</ul>



        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="sr-only right-0" action="/logout" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="40TZsMZid8oOjjp0aq9Ca880sR4BJtRrIA1+4pBWxeq194PsP5zGY6QIodtfncweSgxWSDYo4nM32JimUgcrng==" />
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
</form>      </div>
    </div>
  </div>
</header>

      

  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">
</div>



  <div role="main" class="application-main ">
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <div id="js-repo-pjax-container" data-pjax-container >
      





  



  <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav  ">
    <div class="repohead-details-container clearfix container">

      <ul class="pagehead-actions">
  <li>
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form data-autosubmit="true" data-remote="true" class="js-social-container" action="/notifications/subscribe" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="0Q8CSLdfjJZUZSD6q3eDpVdwRBFxOYrk4mEBublIrja3lQwKTgXtbUQjHsg6Km7YbUly3z4b81mTNc7NxksC1Q==" />      <input type="hidden" name="repository_id" id="repository_id" value="53072932" class="form-control" />

        <div class="select-menu js-menu-container js-select-menu">
          <a href="/CommunicationsSecurityEstablishment/spartacus/subscription"
            class="btn btn-sm btn-with-count select-menu-button js-menu-target"
            role="button"
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Toggle repository notifications menu"
            data-ga-click="Repository, click Watch settings, action:blob#show">
            <span class="js-select-button">
                <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                Unwatch
            </span>
          </a>
          <a class="social-count js-social-count"
            href="/CommunicationsSecurityEstablishment/spartacus/watchers"
            aria-label="11 users are watching this repository">
            11
          </a>

        <div class="select-menu-modal-holder">
          <div class="select-menu-modal subscription-menu-modal js-menu-content">
            <div class="select-menu-header js-navigation-enable" tabindex="-1">
              <svg class="octicon octicon-x js-menu-close" role="img" aria-label="Close" viewBox="0 0 12 16" version="1.1" width="12" height="16"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
              <span class="select-menu-title">Notifications</span>
            </div>

              <div class="select-menu-list js-navigation-container" role="menu">

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
                  <div class="select-menu-item-text">
                    <input type="radio" name="do" id="do_included" value="included" />
                    <span class="select-menu-item-heading">Not watching</span>
                    <span class="description">Be notified when participating or @mentioned.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                      Watch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
                  <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
                  <div class="select-menu-item-text">
                    <input type="radio" name="do" id="do_subscribed" value="subscribed" checked="checked" />
                    <span class="select-menu-item-heading">Watching</span>
                    <span class="description">Be notified of all conversations.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                        Unwatch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
                  <div class="select-menu-item-text">
                    <input type="radio" name="do" id="do_ignore" value="ignore" />
                    <span class="select-menu-item-heading">Ignoring</span>
                    <span class="description">Never be notified.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg class="octicon octicon-mute" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.81v10.38c0 .67-.81 1-1.28.53L3 10H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h2l3.72-3.72C7.19 1.81 8 2.14 8 2.81zm7.53 3.22l-1.06-1.06-1.97 1.97-1.97-1.97-1.06 1.06L11.44 8 9.47 9.97l1.06 1.06 1.97-1.97 1.97 1.97 1.06-1.06L13.56 8l1.97-1.97z"/></svg>
                        Stop ignoring
                    </span>
                  </div>
                </div>

              </div>

            </div>
          </div>
        </div>
</form>
  </li>

  <li>
    
  <div class="js-toggler-container js-social-container starring-container ">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="starred js-social-form" action="/CommunicationsSecurityEstablishment/spartacus/unstar" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="bU8I5AwQkd65aITVQByF1Vssn2k9lZDU1syMaZ0y7+cYQRwP1dFViThuRnCmkzSSRKRhewl6kvKKSRj9Qqq6Hg==" />
      <input type="hidden" name="context" value="repository"></input>
      <button
        type="submit"
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Unstar this repository" title="Unstar CommunicationsSecurityEstablishment/spartacus"
        data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">
        <svg class="octicon octicon-star" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"/></svg>
        Unstar
      </button>
        <a class="social-count js-social-count" href="/CommunicationsSecurityEstablishment/spartacus/stargazers"
           aria-label="46 users starred this repository">
          46
        </a>
</form>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="unstarred js-social-form" action="/CommunicationsSecurityEstablishment/spartacus/star" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="z5rHjHv+rhqQu76aHUQ9IpQTaa2Wb/PvupoqASS9Ygy28vAsirlSgV9faLMjGqd8VBdFkA5RNYYyoavwo8K8yw==" />
      <input type="hidden" name="context" value="repository"></input>
      <button
        type="submit"
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Star this repository" title="Star CommunicationsSecurityEstablishment/spartacus"
        data-ga-click="Repository, click star button, action:blob#show; text:Star">
        <svg class="octicon octicon-star" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"/></svg>
        Star
      </button>
        <a class="social-count js-social-count" href="/CommunicationsSecurityEstablishment/spartacus/stargazers"
           aria-label="46 users starred this repository">
          46
        </a>
</form>  </div>

  </li>

  <li>
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="btn-with-count" action="/CommunicationsSecurityEstablishment/spartacus/fork" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="clLj355vkjHRwA71zRGTG/F0qoDw2SOsfUTgofbxJZNKoJqGwsEi06V5SznmH6bUYUq4iAy39gWIMbwdPTzkng==" />
            <button
                type="submit"
                class="btn btn-sm btn-with-count"
                data-ga-click="Repository, show fork modal, action:blob#show; text:Fork"
                title="Fork your own copy of CommunicationsSecurityEstablishment/spartacus to your account"
                aria-label="Fork your own copy of CommunicationsSecurityEstablishment/spartacus to your account">
              <svg class="octicon octicon-repo-forked" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
              Fork
            </button>
</form>
    <a href="/CommunicationsSecurityEstablishment/spartacus/network" class="social-count"
       aria-label="8 users forked this repository">
      8
    </a>
  </li>
</ul>

      <h1 class="public ">
  <svg class="octicon octicon-repo" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
  <span class="author" itemprop="author"><a class="url fn" rel="author" href="/CommunicationsSecurityEstablishment">CommunicationsSecurityEstablishment</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a data-pjax="#js-repo-pjax-container" href="/CommunicationsSecurityEstablishment/spartacus">spartacus</a></strong>

</h1>

    </div>
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax container"
     itemscope
     itemtype="http://schema.org/BreadcrumbList"
     role="navigation"
     data-pjax="#js-repo-pjax-container">

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a class="js-selected-navigation-item selected reponav-item" itemprop="url" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /CommunicationsSecurityEstablishment/spartacus" href="/CommunicationsSecurityEstablishment/spartacus">
      <svg class="octicon octicon-code" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a itemprop="url" data-hotkey="g i" class="js-selected-navigation-item reponav-item" data-selected-links="repo_issues repo_labels repo_milestones /CommunicationsSecurityEstablishment/spartacus/issues" href="/CommunicationsSecurityEstablishment/spartacus/issues">
        <svg class="octicon octicon-issue-opened" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">1</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a data-hotkey="g p" itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_pulls checks /CommunicationsSecurityEstablishment/spartacus/pulls" href="/CommunicationsSecurityEstablishment/spartacus/pulls">
      <svg class="octicon octicon-git-pull-request" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">0</span>
      <meta itemprop="position" content="3">
</a>  </span>

    <a data-hotkey="g b" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /CommunicationsSecurityEstablishment/spartacus/projects" href="/CommunicationsSecurityEstablishment/spartacus/projects">
      <svg class="octicon octicon-project" viewBox="0 0 15 16" version="1.1" width="15" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      Projects
      <span class="Counter" >0</span>
</a>
    <a class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /CommunicationsSecurityEstablishment/spartacus/wiki" href="/CommunicationsSecurityEstablishment/spartacus/wiki">
      <svg class="octicon octicon-book" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"/></svg>
      Wiki
</a>

  <a class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse /CommunicationsSecurityEstablishment/spartacus/pulse" href="/CommunicationsSecurityEstablishment/spartacus/pulse">
    <svg class="octicon octicon-graph" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"/></svg>
    Insights
</a>

</nav>


  </div>

<div class="container new-discussion-timeline experiment-repo-nav  ">
  <div class="repository-content ">

    
  <a class="d-none js-permalink-shortcut" data-hotkey="y" href="/CommunicationsSecurityEstablishment/spartacus/blob/264f93e366f284c1f3f416ff5cd833357bcc51cc/Documentation/SpartacusReference-FR.md">Permalink</a>

  <!-- blob contrib key: blob_contributors:v21:b2b3023774c3d1933270303871eb4191 -->

  <div class="file-navigation">
    
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">
  <button class=" btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    
    type="button" aria-label="Switch branches or tags" aria-expanded="false" aria-haspopup="true">
      <i>Branch:</i>
      <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <svg class="octicon octicon-x js-menu-close" role="img" aria-label="Close" viewBox="0 0 12 16" version="1.1" width="12" height="16"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/CommunicationsSecurityEstablishment/spartacus/blob/master/Documentation/SpartacusReference-FR.md"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                master
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CommunicationsSecurityEstablishment/spartacus/tree/V2.0/Documentation/SpartacusReference-FR.md"
              data-name="V2.0"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="V2.0">
                V2.0
              </span>
            </a>
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

    <div class="BtnGroup float-right">
      <a href="/CommunicationsSecurityEstablishment/spartacus/find/master"
            class="js-pjax-capture-input btn btn-sm BtnGroup-item"
            data-pjax
            data-hotkey="t">
        Find file
      </a>
      <clipboard-copy for="blob-path" class="btn btn-sm BtnGroup-item">
        Copy path
      </clipboard-copy>
    </div>
    <div id="blob-path" class="breadcrumb">
      <span class="repo-root js-repo-root"><span class="js-path-segment"><a data-pjax="true" href="/CommunicationsSecurityEstablishment/spartacus"><span>spartacus</span></a></span></span><span class="separator">/</span><span class="js-path-segment"><a data-pjax="true" href="/CommunicationsSecurityEstablishment/spartacus/tree/master/Documentation"><span>Documentation</span></a></span><span class="separator">/</span><strong class="final-path">SpartacusReference-FR.md</strong>
    </div>
  </div>


  <include-fragment src="/CommunicationsSecurityEstablishment/spartacus/contributors/master/Documentation/SpartacusReference-FR.md" class="commit-tease">
    <div>
      Fetching contributors&hellip;
    </div>

    <div class="commit-tease-contributors">
      <img alt="" class="loader-loading float-left" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32-EAF2F5.gif" width="16" height="16" />
      <span class="loader-error">Cannot retrieve contributors at this time</span>
    </div>
</include-fragment>


  <div class="file">
    <div class="file-header">
  <div class="file-actions">

    <div class="BtnGroup">
      <a id="raw-url" class="btn btn-sm BtnGroup-item" href="/CommunicationsSecurityEstablishment/spartacus/raw/master/Documentation/SpartacusReference-FR.md">Raw</a>
        <a class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b" href="/CommunicationsSecurityEstablishment/spartacus/blame/master/Documentation/SpartacusReference-FR.md">Blame</a>
      <a rel="nofollow" class="btn btn-sm BtnGroup-item" href="/CommunicationsSecurityEstablishment/spartacus/commits/master/Documentation/SpartacusReference-FR.md">History</a>
    </div>

        <a class="btn-octicon tooltipped tooltipped-nw"
           href="x-github-client://openRepo/https://github.com/CommunicationsSecurityEstablishment/spartacus?branch=master&amp;filepath=Documentation%2FSpartacusReference-FR.md"
           aria-label="Open this file in GitHub Desktop"
           data-ga-click="Repository, open with desktop, type:windows">
            <svg class="octicon octicon-device-desktop" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M15 2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm0 9H1V3h14v8z"/></svg>
        </a>

          <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="inline-form js-update-url-with-hash" action="/CommunicationsSecurityEstablishment/spartacus/edit/master/Documentation/SpartacusReference-FR.md" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="p5ynOMbm+dM4kic15Raj/wcCTpwu5Qt6/vhfFRI2LjdZpWfdQHwpa1ydzQm4pfky19MzSHZcGvJsRCO8YpbhcQ==" />
            <button class="btn-octicon tooltipped tooltipped-nw" type="submit"
              aria-label="Edit the file in your fork of this project" data-hotkey="e" data-disable-with>
              <svg class="octicon octicon-pencil" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"/></svg>
            </button>
</form>
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="inline-form" action="/CommunicationsSecurityEstablishment/spartacus/delete/master/Documentation/SpartacusReference-FR.md" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="OinfNFbMMpDYf0Gxh1NG5ol4gJ2+BQH9x+MRe8dqbJ1zEKN9HRCCIiEaA//pZvR7tg38bk5OCb5+kZb+lgK6xQ==" />
          <button class="btn-octicon btn-octicon-danger tooltipped tooltipped-nw" type="submit"
            aria-label="Delete the file in your fork of this project" data-disable-with>
            <svg class="octicon octicon-trashcan" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"/></svg>
          </button>
</form>  </div>

  <div class="file-info">
      1112 lines (978 sloc)
      <span class="file-info-divider"></span>
    45.1 KB
  </div>
</div>

    
  <div id="readme" class="readme blob instapaper_body">
    <article class="markdown-body entry-content" itemprop="text"><p><a target="_blank" href="/CommunicationsSecurityEstablishment/spartacus/blob/master/Documentation/Images/spartacus-logo.jpg"><img src="/CommunicationsSecurityEstablishment/spartacus/raw/master/Documentation/Images/spartacus-logo.jpg" alt="Spartacus Logo" style="max-width:100%;"></a></p>
<h1><a id="user-content-manuel-de-référence-spartacus" class="anchor" aria-hidden="true" href="#manuel-de-référence-spartacus"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Manuel de Référence Spartacus</h1>
<p>Version 2.0
Décembre 2017</p>
<p>Ce document ne répète pas les informations disponibles dans le guide de démarrage rapide.
Veuillez lire le guide de démarrage rapide avant de lire ce document.</p>
<h2><a id="user-content-historique-du-document" class="anchor" aria-hidden="true" href="#historique-du-document"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Historique du document</h2>
<ul>
<li>Décembre 2018
<ul>
<li>Réécriture complète du document. La version actuelle de la machine virtuelle n'est pas
compatible avec la première version. L'environnement de jeu a été retiré du projet. Plusieurs
instructions ont été ajoutées. Le language a aussi été modifié.</li>
</ul>
</li>
</ul>
<h2><a id="user-content-introduction" class="anchor" aria-hidden="true" href="#introduction"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h2>
<p>Capua est un coeur virtuel conçu pour aider les nouveaux venus à la programmation assembleur et
la programmation de système d'exploitation en général. Capua a été
développé après avoir constaté une diminution des connaissances relativement
à la programmation de bas niveau. Ainsi, les fonctionnalités de Capua sont réduites au
minimum afin que les utilisateurs puissent bénéficier de la simplicité de sa conception
dans un contexte d'apprentissage.</p>
<h3><a id="user-content-note" class="anchor" aria-hidden="true" href="#note"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Note</h3>
<p>À travers ce document, toute référence faite au "matériel", sauf si spécifié, devrait être
interprétée comme "matériel virtuel".</p>
<h2><a id="user-content-capua-versus-spartacus" class="anchor" aria-hidden="true" href="#capua-versus-spartacus"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Capua versus Spartacus</h2>
<p>Spartacus, c'est le projet entier. Capua, c'est l'environnement virtuel.</p>
<h2><a id="user-content-changements-importants-de-la-version-10-à-la-version-20" class="anchor" aria-hidden="true" href="#changements-importants-de-la-version-10-à-la-version-20"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Changements importants de la version 1.0 à la version 2.0</h2>
<ul>
<li>Capua supporte maintenant les intérruptions matérielles et logicielles</li>
<li>Plusieurs instructions ont été ajoutées:
<ul>
<li><strong>ACTI, DACTI, HIRET, INT, SFSTOR, SIVR</strong></li>
<li>Celles-ci offrent les fonctionnalités minimalles requises pour le développement de système d'exploitation.</li>
</ul>
</li>
<li>Capua comporte maintenant 8 registres à usage général (GPRs):
<ul>
<li>Cet ajout a forcé un changement au niveau du code machine. Le code construit
à l'aide des anciens outils ne fonctionnera pas correctement sur Capua V. 2.0.</li>
</ul>
</li>
<li>Le support pour plusieurs pièces de matériel a été ajouté:
<ul>
<li>Disque rigide, horloge d'intérruption et Terminal.</li>
</ul>
</li>
<li>Les éléments matériels qui étaient fortement liés à l'environnement de jeu ont été retirés.</li>
<li>L'environnement de jeu a été retiré du projet.</li>
</ul>
<h2><a id="user-content-capua" class="anchor" aria-hidden="true" href="#capua"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Capua</h2>
<p>Capua est une architecture de type load/store
(charger/stocker). Ainsi, seules les instructions de
chargement (<strong>MEMR</strong>) et de stockage (<strong>MEMW</strong>) peuvent
accéder à la mémoire. Les instructions relatives aux piles ont également accès à
la mémoire, mais de façon beaucoup plus restreinte.</p>
<h2><a id="user-content-registres" class="anchor" aria-hidden="true" href="#registres"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Registres</h2>
<p>Capua possède maintenant 8 GPRs allant de <strong>A</strong> à <strong>G</strong> et puis <strong>S</strong>. Le registre S
(pour Stack) est le pointeur de pile. Tous les registres possèdent 32 bits.
Le registre d’adresse d’instruction est nommé <strong>I</strong> et
n’est pas accessible aux utilisateurs. Le registre des
drapeaux est nommé <strong>FLAGS</strong> et n’est pas non plus
accessible aux utilisateurs.</p>
<h2><a id="user-content-mémoire" class="anchor" aria-hidden="true" href="#mémoire"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mémoire</h2>
<p>À l'heure actuelle, aucun mécanisme de gestion de la mémoire n'est disponible.
C'est un des éléments sur lesquels nous travaillons. Un tel système devrait être
disponible dans une version ultérieure.
La mémoire physique est donc accédée directement. Le début de la mémoire utilisateur
est défini à l'intérieur du fichier <strong>Configuration/Configuration.py</strong>. Par défault,
cette valeur est 0x40000000. Aussi par défaut, la machine virtuelle possède 1Mo de mémoire.
Ces valeurs peuvent être modifiées mais il est recommandé de conserver les valeurs par défaut.</p>
<h2><a id="user-content-dispositifs-mappés-en-mémoire" class="anchor" aria-hidden="true" href="#dispositifs-mappés-en-mémoire"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dispositifs mappés en mémoire</h2>
<p>Sur capua, l'ensemble du matériel est mappé en mémoire. Chaque élément peut être
accédé à partir d'une address situé sous l'addresse de début de la mémoire (0x40000000).
La présence de ce matériel est une des raison pour lesquelles ils n'est pas recommandé
de modifier la configuration de la mémoire.</p>
<h2><a id="user-content-architecture-générale" class="anchor" aria-hidden="true" href="#architecture-générale"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Architecture générale</h2>
<p>En date de décembre 2017 l'architecture Capua ressemble à ceci:
<a target="_blank" href="/CommunicationsSecurityEstablishment/spartacus/blob/master/Documentation/Images/Architecture-En.png"><img src="/CommunicationsSecurityEstablishment/spartacus/raw/master/Documentation/Images/Architecture-En.png" alt="Capua Architecture" style="max-width:100%;"></a></p>
<p>Comme vous pouvez le voir, l'architecture est très simple mais semblable à celle d'un
ordinateur réel.</p>
<h1><a id="user-content-jeu-dinstructions" class="anchor" aria-hidden="true" href="#jeu-dinstructions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Jeu d'instructions</h1>
<p>La syntaxe du language assembleur Capua est organisée sur le modèle source -&gt; destination.
Quand deux éléments sont présents dans une instruction, valeur immédiate ou registre, le
premier élément est toujours la source alors que le deuxième est toujours la destination.
L'ensemble du jeu d'instructions du language Capua sera maintenant présenté.</p>
<h6><a id="user-content-régistres-valeurs-immédiate-et-références-mémoires" class="anchor" aria-hidden="true" href="#régistres-valeurs-immédiate-et-références-mémoires"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Régistres, valeurs immédiate et références mémoires</h6>
<p>L'assembleur demande que le programmeur utilise le préfixe <strong>$</strong> devant un registre. Le préfixe
<strong>#</strong> doit quant à lui être utilisé devant une valeur immédiate. L'utilisation d'un libéllé
de référence mémoire est permise à l'intérieur des instructions utilisant des valeurs immédiates.
Il n'est cependant pas requis de leur appliquer de préfixe.</p>
<h3><a id="user-content-acti" class="anchor" aria-hidden="true" href="#acti"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ACTI</h3>
<p>Cette instruction active les mécanisme de gestion des intérruptions. Après que cette
instruction ait été exécutée, l'instruction INT ainsi que les intérruptions matérielles
peuvent être transmises à l'unité d'exécution. La gestion des intérruptions est décrite
à la section appropriée. L'instruction ACTI n'utilise aucun registre ou valeur immédiate.</p>
<blockquote>
<p><strong>ACTI</strong></p>
</blockquote>
<h3><a id="user-content-add" class="anchor" aria-hidden="true" href="#add"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ADD</h3>
<p>Cette instruction permet l’addition de nombres
entiers. Les diverses
variantes de l’instruction d’addition sont présentées ci-dessous.</p>
<blockquote>
<p><strong>ADD #0xFF $A</strong></p>
</blockquote>
<blockquote>
<p><strong>ADD $B $A</strong></p>
</blockquote>
<h3><a id="user-content-and" class="anchor" aria-hidden="true" href="#and"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AND</h3>
<p>L’instruction AND est utilisée pour les opérations
binaires. Il s’agit d’une comparaison binaire qui suit
la table de vérité AND normale:</p>
<ul>
<li>1 and 1 = 1</li>
<li>1 and 0 = 0</li>
<li>0 and 1 = 0</li>
<li>0 and 0 = 0</li>
</ul>
<p>Cette vérification est étendue à toute
la longueur des éléments comparés (32 bits)</p>
<blockquote>
<p><strong>AND #0xFF $A</strong></p>
</blockquote>
<blockquote>
<p><strong>AND $B $A</strong></p>
</blockquote>
<h3><a id="user-content-call" class="anchor" aria-hidden="true" href="#call"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CALL</h3>
<p>Il est indispensable de respecter les conditions
préalables relatives à cette instruction pour utiliser
CALL . Dans le cas contraire, des
problèmes surviendront (une erreur de mémoire, en
général). Avant d’utiliser cette instruction, vous
devez vous assurer que le pointeur de pile S
pointe dans une zone de la mémoire
valide et disponible. L’instruction CALL entraînera
une copie de l’adresse de l'instruction suivante (l'instruction suivant le call)
en haut de la pile de manière à ce que cette adresse soit utilisée
comme adresse de retour.</p>
<blockquote>
<p><strong>CALL #0x40000010</strong></p>
</blockquote>
<blockquote>
<p><strong>CALL $A</strong></p>
</blockquote>
<blockquote>
<p><strong>CALL testFunction</strong></p>
</blockquote>
<h3><a id="user-content-cmp" class="anchor" aria-hidden="true" href="#cmp"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CMP</h3>
<p>L’instruction de comparaison est la seule qui permet
la modification du registre FLAGS . À l’heure actuelle,
le registre FLAGS possède uniquement trois bits. Le bit
supérieur (0b100) est activé lorsque l’élément
source de la comparaison correspondra à l’élément
de destination. Le bit central (0b010) est activé
lorsque la source est inférieure à la destination et le
bit le plus à droite (0b001) est activé lorsque la
source est supérieure à la destination.</p>
<blockquote>
<p><strong>CMP #0xFF $A</strong></p>
</blockquote>
<blockquote>
<p><strong>CMP $A $B</strong></p>
</blockquote>
<h3><a id="user-content-dacti" class="anchor" aria-hidden="true" href="#dacti"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DACTI</h3>
<p>L'instruction DACTI est l'inverse de l'instruction ACTI. Cette instruction
désactive le système de gestion des intérruptions.
L'instruction DACTI n'utilise aucun registre ou valeur immédiate.</p>
<blockquote>
<p><strong>DACTI</strong></p>
</blockquote>
<h3><a id="user-content-div" class="anchor" aria-hidden="true" href="#div"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DIV</h3>
<p>L’instruction div permet d’effectuer une division.
L’élément source sera divisé par l’élément de
destination. Le résultat de la division est placé dans
le registre A et le reste de la division est placé dans le
registre B .</p>
<blockquote>
<p><strong>DIV $C $B</strong></p>
</blockquote>
<h3><a id="user-content-hiret" class="anchor" aria-hidden="true" href="#hiret"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HIRET</h3>
<p>L'instruction HIRET signifie "Hardware Interrupt Return". Cette instruction
doit être utilisée comme instruction de retour par les routine de gestion d'intérruptions
matérielles. Elle ne doit pas être utilisée par les routines de gestion d'intérruptions logicelles.
Lorsque l'instruction est exécutée, le contrôle d'exécution retournera au code intérrompu tout
en s'assurant que la valeur que portait le registre FLAGS sera conservé au moment du retour.
L'instruction HIRET n'utilise aucun registre ou valeur immédiate.</p>
<blockquote>
<p><strong>HIRET</strong></p>
</blockquote>
<h3><a id="user-content-int" class="anchor" aria-hidden="true" href="#int"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>INT</h3>
<p>L'instruction INT est utilisée afin de générer des intérruptions logicielles. Lorsque
l'instruction est exécutée, l'unité d'exécution transfère le contrôle à la routine
de gestion d'intérruption appropriée en se basant sur le numéros d'intérruption.
Veuillez consulter la section sur la gestion des intérruptions pour plus de détails.
Cette instruction existe en deux variantes. Elle peut utiliser une valeur immédiate ou un registre.</p>
<blockquote>
<p><strong>INT #4</strong></p>
</blockquote>
<blockquote>
<p><strong>INT $A</strong></p>
</blockquote>
<h3><a id="user-content-jmp" class="anchor" aria-hidden="true" href="#jmp"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JMP</h3>
<p>L’instruction de saut permet de sauter, de manière
conditionnelle ou non, des parties du code en
consultant la valeur du registre FLAGS . Cette
instruction est particulière, car elle utilise un drapeau
indicateur pour permettre à l’utilisateur de choisir les
conditions dans lesquelles le saut devrait avoir lieu.
Les conditions possibles sont répertoriées ci-
dessous.</p>
<ul>
<li>&lt;&gt; Le saut est toujours effectué.</li>
<li> ou  Le saut est effectué si 0b100 est défini (Drapeau E).</li>
<li> Le saut est effectué si 0b010 est défini (Drapeau L).</li>
<li> Le saut est effectué si 0b001 est défini (Drapeau H).</li>
</ul>
<p>Il est possible de regrouper ces drapeaux indicateurs
pour établir des conditions complexes. Par exemple,
l’indicateur  pourrait permettre au saut d’avoir
lieu si le drapeau E ou le drapeau L est activé.
Veuillez noter que la valeur immédiate ou le registre
utilisés par cette instruction doit posséder une
adresse mémoire valide pointant vers une instruction.</p>
<blockquote>
<p><strong>JMP &lt;E&gt; #0x40000010</strong></p>
</blockquote>
<blockquote>
<p><strong>JMP &lt;LH&gt; $B</strong></p>
</blockquote>
<blockquote>
<p><strong>JMP &lt;&gt; testLoop</strong></p>
</blockquote>
<h3><a id="user-content-jmpr" class="anchor" aria-hidden="true" href="#jmpr"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JMPR</h3>
<p>L’instruction JMPR est identique à l’instruction JMP ,
avec une différence. La valeur
immédiate ou le registre utilisé(e) par l’instruction
JMPR présente un décalage relatif par rapport
au registre d’adresse d’instruction I où le saut doit
mener. Par exemple, si on utilise la valeur immédiate
#0xFF , l’unité d’exécution commencera à lire les
instructions situées 0xFF octets après l’instruction
JMPR.</p>
<blockquote>
<p><strong>JMPR &lt;E&gt; #0x10</strong></p>
</blockquote>
<blockquote>
<p><strong>JMPR &lt;LH&gt; $B</strong></p>
</blockquote>
<h3><a id="user-content-memr" class="anchor" aria-hidden="true" href="#memr"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MEMR</h3>
<p>L’instruction MEMR permet la lecture de la mémoire. L’instruction
MEMR utilise un indicateur de taille qui permet à
l’utilisateur de lire d’un à quatre octets de la
mémoire vers un registre. La source peut être un
registre ou une valeur immédiate, mais il doit s’agir
d’une adresse mémoire valide. L’indicateur de taille
est défini à l’aide des caractères [ et ] .</p>
<blockquote>
<p><strong>MEMR [4] #0x40000000 $B</strong></p>
</blockquote>
<blockquote>
<p><strong>MEMR [4] $A $B</strong></p>
</blockquote>
<h3><a id="user-content-memw" class="anchor" aria-hidden="true" href="#memw"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MEMW</h3>
<p>L’instruction MEMW permet l’écriture dans la mémoire.
Comme l’instruction MEMR , elle utilise un indicateur de taille.
En raison de sa nature, l’instruction MEMW est
disponible en un nombre de variantes supérieur à
celui de l’instruction MEMR. La destination peut être
un registre ou une valeur immédiate, mais il doit
s’agir d’une adresse mémoire valide.</p>
<blockquote>
<p><strong>MEMW [4] #0xFF #0x40000000</strong></p>
</blockquote>
<blockquote>
<p><strong>MEMW [4] #0xFF $A</strong></p>
</blockquote>
<h3><a id="user-content-mov" class="anchor" aria-hidden="true" href="#mov"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MOV</h3>
<p>L’instruction MOV permet de déplacer des données
entre registres ou de charger une valeur immédiate
dans un registre. Cette instruction pourrait être
utilisée, par exemple, pour configurer le pointeur de
pile S dans une zone de la mémoire valide afin de
pouvoir utiliser la pile.</p>
<blockquote>
<p><strong>MOV #0x40000200 $S</strong></p>
</blockquote>
<blockquote>
<p><strong>MOV $A $B</strong></p>
</blockquote>
<h3><a id="user-content-mul" class="anchor" aria-hidden="true" href="#mul"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MUL</h3>
<p>L’instruction MUL permet la multiplication d’entiers
entre deux registres. Il n’est pas possible d’utiliser
l’instruction MUL avec une valeur immédiate.
Puisque la multiplication peut résulter en nombres
supérieurs à 32 bits, le registre B contient les 32 bits
supérieurs et le registre A contient les 32 bits
inférieurs du nombre obtenu. Le nombre devrait se
lire sous la forme B:A après la multiplication.</p>
<blockquote>
<p><strong>MUL $A $B</strong></p>
</blockquote>
<h3><a id="user-content-nop" class="anchor" aria-hidden="true" href="#nop"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>NOP</h3>
<p>L’instruction NOP est l’instruction de non-opération.
Elle ne fait rien. Comme Capua n’a pas besoin d’un
alignement sur quatre octets, l’instruction NOP est
habituellement inutile. Toutefois, elle peut être
utilisée pour remplir la mémoire au moment du
démarrage afin de faciliter le développement.</p>
<blockquote>
<p><strong>NOP</strong></p>
</blockquote>
<h3><a id="user-content-not" class="anchor" aria-hidden="true" href="#not"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>NOT</h3>
<p>L’instruction NOT inversera les bits d’un registre. Par
exemple, si le registre A est égal à 0x01 avant
l’instruction NOT , il sera égal à 0xFFFFFFFE après
l’instruction NOT . L'instruction, est utulisable uniquement avec un registre.</p>
<blockquote>
<p><strong>NOT $A</strong></p>
</blockquote>
<h3><a id="user-content-or" class="anchor" aria-hidden="true" href="#or"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OR</h3>
<p>L’instruction OR est une opération OU binaire. Elle travaille suivant les règles
booléennes. Voici sa table de vérité:</p>
<ul>
<li>1 or 1 = 1</li>
<li>0 or 1 = 1</li>
<li>1 or 0 = 1</li>
<li>0 or 0 = 0</li>
</ul>
<p>Elle aura une incidence sur tous les bits d’un registre.</p>
<blockquote>
<p><strong>OR #0xFF $A</strong></p>
</blockquote>
<blockquote>
<p><strong>OR $A $B</strong></p>
</blockquote>
<h3><a id="user-content-pop" class="anchor" aria-hidden="true" href="#pop"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POP</h3>
<p>L’instruction POP enlève 32 bits de la pile et réduit le
pointeur de pile de quatre octets vers l’arrière. Les
données qui étaient en haut de la pile seront
disponibles dans le registre précisé par l’instruction
POP . Pour que l’instruction POP soit utilisée de
manière sécuritaire, le pointeur de pile S doit être
réglé à une adresse mémoire valide.</p>
<blockquote>
<p><strong>POP $A</strong></p>
</blockquote>
<h3><a id="user-content-push" class="anchor" aria-hidden="true" href="#push"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PUSH</h3>
<p>L’instruction PUSH ajoutera une valeur de 32 bits sur
le dessus de la pile et augmentera le pointeur de pile
S de quatre octets vers l’avant. Pour que l’instruction
PUSH soit utilisée de manière sécuritaire, le pointeur
de pile S doit pointer vers une adresse mémoire
valide avant d’utiliser l’instruction PUSH .</p>
<blockquote>
<p><strong>PUSH #0xFF</strong></p>
</blockquote>
<blockquote>
<p><strong>PUSH $A</strong></p>
</blockquote>
<h3><a id="user-content-ret" class="anchor" aria-hidden="true" href="#ret"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RET</h3>
<p>L’instruction de retour est habituellement utilisée
pour revenir d’un appel. Elle prendra l’élément en
haut de la pile et attribuera sa valeur au pointeur
d’instruction I. Pour utiliser l’instruction RET ,
l’appelant doit s’assurer que la valeur située au haut de
la pile est un pointeur vers une région de la mémoire
pouvant être exécutée par l’unité d’exécution.</p>
<blockquote>
<p><strong>RET</strong></p>
</blockquote>
<h3><a id="user-content-sfstor" class="anchor" aria-hidden="true" href="#sfstor"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SFSTOR</h3>
<p>L'instruction SFSTOR signifie "Safe Store". L'utilisation du terme "safe" fait référence
à l'atomicité de l'instruction. L'instruction prend la valeur présente dans l'opérande
source (soit un registre ou une valeur immédiate) et copie cette valeur à l'adresse
contenue par le registre $A si la condition est respectée en effectuant une comparaison
entre l'information contenue à l'adresse mémoire et les données fournie par l'instruction.
L'instruction changera aussi la valeur du registre FLAGS en fonction du résultat de la comparaison.
L'ordre de comparaison est défini comme source (immédiate ou registre) contre l'information obtenue
à l'addresse pointée par le registre $A et non pas le contraire.</p>
<blockquote>
<p><strong>SFSTOR &lt;LH&gt; #1</strong></p>
</blockquote>
<blockquote>
<p><strong>SFSTOR &lt;LH&gt; $B</strong></p>
</blockquote>
<p>Cette instruction a pour objectif de permettre au programmeur d'écrire du code permettant la synchronisation
entre fils d'exécution (thread) comme des mutexes.</p>
<h3><a id="user-content-shl" class="anchor" aria-hidden="true" href="#shl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SHL</h3>
<p>La mnémonique d’instruction SHL représente un
décalage vers la gauche. L'instruction permet à
l'utilisateur de déplacer la valeur d’un registre de X bits
vers la gauche, où X est un chiffre plus grand que 0. Les
valeurs excédentaires sont simplement perdues. Par
exemple, considérons la valeur 0x80000001 . Le
déplacement vers la gauche d’un bit de cette valeur
fera en sorte que celle-ci deviendra 0x00000002</p>
<blockquote>
<p><strong>SHL #0x01 $A</strong></p>
</blockquote>
<blockquote>
<p><strong>SHL $B $A</strong></p>
</blockquote>
<h3><a id="user-content-shr" class="anchor" aria-hidden="true" href="#shr"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SHR</h3>
<p>L’instruction SHR est la même que l’instruction SHL ,
sauf que le déplacement se produit vers la droite. Ici,
le déplacement vers la droite d’un bit de la valeur
0x80000001 produira la valeur 0x40000000.</p>
<blockquote>
<p><strong>SHR #0x01 $A</strong></p>
</blockquote>
<blockquote>
<p><strong>SHR $B $A</strong></p>
</blockquote>
<h3><a id="user-content-sivr" class="anchor" aria-hidden="true" href="#sivr"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SIVR</h3>
<p>Cette instruction signifie "Set Interrupt Vector Register". Elle est utilisée pour configurer
le pointeur du vecteur d'intérruptions. Cette valeur doit pointer vers un vecteur de pointeurs
sur des routines de gestion des intérruptions. Cette instruction peut seulement être utilisée
avec un registre.</p>
<blockquote>
<p><strong>SIVR $A</strong></p>
</blockquote>
<p>L'exemple de code suivant montre comment configurer l'IVR.</p>
<pre><code>.global start:

start:
MOV end $S                      ; Stack grows up, setting S to the end is generally safer
                                ; The stack needs to be configure for interrupt handling to work
MOV vector $A
SIVR $A                         ; Set the interrupt vector to "vector"
ACTI                            ; Interrupt handling activation

loop:
    NOP
    JMP &lt;&gt; loop

clockHandler:                   ; All hardware interrupts are mapped to this empty handler
keyboardHandler:
hardDriveReadHandler:
hardDriveWriteHandler:
    HIRET


vector:                         ; The vector is built using the dataMemRef marker
.dataMemRef clockHandler
.dataMemRef keyboardHandler
.dataMemRef hardDriveReadHandler
.dataMemRef hardDriveWriteHandler
end:
</code></pre>
<h3><a id="user-content-sub" class="anchor" aria-hidden="true" href="#sub"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SUB</h3>
<p>L’instruction SUB permet de soustraire des valeurs.
Il est important de comprendre que l’opération
s’effectue comme suit:</p>
<ul>
<li>destination = destination - source</li>
</ul>
<p>Il est également important de savoir que
l’instruction SUB ne prend en compte que les
nombres entiers sous forme de complément de deux,
32 bits, signés.</p>
<blockquote>
<p><strong>SUB #0x01 $A</strong></p>
</blockquote>
<blockquote>
<p><strong>SUB $B $A</strong></p>
</blockquote>
<h3><a id="user-content-xor" class="anchor" aria-hidden="true" href="#xor"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>XOR</h3>
<p>L’instruction XOR est une opération binaire comme l’instruction AND et l’instruction OR.
Elle suit la logique normale XOR (ou exclusif) selon la table de
vérité suivante :</p>
<ul>
<li>1 xor 1 = 0</li>
<li>1 xor 0 = 1</li>
<li>0 xor 1 = 1</li>
<li>0 xor 0 = 0</li>
</ul>
<p>Elle peut être utilisée pour régler la valeur d’un
registre à 0.</p>
<blockquote>
<p><strong>XOR #0x01 $A</strong></p>
</blockquote>
<blockquote>
<p><strong>XOR $B $A</strong></p>
</blockquote>
<h1><a id="user-content-outils" class="anchor" aria-hidden="true" href="#outils"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Outils</h1>
<p>Capua, étant une architecture, demande son propre
assembleur. Pour ce project, 4 outils ont été developpés
afin de permettre le développement logiciel et la validation
de la plateforme.</p>
<ul>
<li>Assembler.py</li>
<li>Linker.py</li>
<li>Debugger.py</li>
<li>HardDriverCreator.py</li>
</ul>
<p>Cette section explique l'ensembble des outils.
Il est important de noter que ceux-ci ont, avant tout,
été développés afin de permettre de valider
le bon fonctionnement de Capua. Ainsi, les outils
présentent des "bugs" et, en tant que développeur,
vous devez vous assurer de les utiliser exactement
de la manière décrite. Plusieurs de ces problèmes
ont été corrigés depuis la version 1.0. Une réécriture
de ces outils est planifiée.</p>
<h2><a id="user-content-compilateur" class="anchor" aria-hidden="true" href="#compilateur"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Compilateur</h2>
<p>Nous n'avons présentemant aucun compilateur. C'est un des éléments majeurs
où une contribution de la communauté du logiciel libre serait plus que
bienvenue.</p>
<h2><a id="user-content-assemblerpy" class="anchor" aria-hidden="true" href="#assemblerpy"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Assembler.py</h2>
<h5><a id="user-content-survol" class="anchor" aria-hidden="true" href="#survol"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Survol</h5>
<p>Capua possède son propre assembleur. Il est facile à utiliser et son implémentation est assez
simple.
N'oubliez pas que la version actuelle de l'assembleur a été
écrite comme outil de test pour Capua.
Veuillez respecter la syntaxe décrite ici puisque
les messages d'erreur ne sont pas toujours faciles à comprendre.
L'assembleur est très sensible aux erreurs typographique.
Par exemple, chaque partie d'une instruction doit
être séparée par un espace blanc. Cela inclut les commentaires en fin de ligne:</p>
<blockquote>
<p><strong>MOV $A $B;This is not good enough</strong></p>
</blockquote>
<blockquote>
<p><strong>MOV $A $B ;This is fine</strong></p>
</blockquote>
<p>De toute évidence, bon nombre de ces problèmes sont faciles
à corriger. N'hésitez pas à vous impliquer et à contribuer.</p>
<p>Lors de l'assemblage, le fichier d'entrée est
transformé en un fichier .o. Veuillez noter que
l'extension a été choisie en raison de la signification historique d'un fichier .o.
Capua n'utilise pas réellement le format de fichier .o. Le format de fichier utilisé par
Capua a été mis au point avec l'intention de permettre
de lier plusieurs fichiers ensemble afin de former un fichier binaire plat.
Le format actuel est également
très facile à comprendre et est un mélange de XML et de
données binaires. Ce format n'est pas parfait et sera modifié dans le futur.
Une description complète de ce format est disponible plus bas dans ce document.</p>
<h5><a id="user-content-Écriture-du-code-assembleur" class="anchor" aria-hidden="true" href="#Écriture-du-code-assembleur"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Écriture du code assembleur</h5>
<p>Cette partie se concentre non pas sur le code mais
sur les directives de l'assembleur. Ces directives doivent
être utilisées lors de l'écriture de code.</p>
<ul>
<li>"NomDeSymbole:"
<ul>
<li>Un nom arbitraire, seul, sur une ligne suivi
d’un caractère ":" indique un symbole.
L’assembleur l’ajoutera à la liste des
symboles et le code sera en mesure de faire
référence à NomDeSymbole partout où une
valeur immédiate pourrait être utilisée.
Par exemple, dans le cas <strong>MOV stackAddress $A</strong>.
L’adresse liée de stackAddress serait mise
comme valeur immédiate dans l’instruction
mov affichée. On pourrait aussi l’utiliser dans
les boucles comme <strong>JMP &lt;&gt; loopStart</strong></li>
</ul>
</li>
<li>".global NomDeSymbole"
<ul>
<li>Permet à l’assembleur d’ajouter un symbole
à la liste des symboles externes.</li>
</ul>
</li>
<li>";"
<ul>
<li>Le caractère ";", comme dans beaucoup
d’autres langages assembleur, indique un
commentaire. Les commentaires peuvent être soit sur
leur propre ligne, soit à la fin d’une ligne, à la
suite d’une instruction. Veuillez noter que,
dans le cas où un commentaire est mis après
une instruction, un espace doit séparer la fin
de l’instruction du début du commentaire (le
caractère ";").</li>
</ul>
</li>
<li>".dataAlpha"
<ul>
<li>On peut l’utiliser n’importe où tant qu’elle se
trouve sur sa propre ligne. Cette directive est
suivie par un espace blanc et un texte au
format libre. Le texte n’a pas besoin d’être
mis entre guillemets. En fait, il ne doit pas
être mis entre guillemets. La chaîne de caractères se
termine à la fin de la ligne. L’assembleur
ajoute un caractère de fin (0x00) à la fin de la
chaîne au moment de l’assemblage. Exemple
d’utilisation:<br>
<strong>.dataAlpha This is a test string</strong>
<em>Notez qu'aucun commentaire ne peut suivre cette ligne.</em></li>
</ul>
</li>
<li>".dataMemRef"
<ul>
<li>Ceci est similaire à .dataNumeric à l'exception
qu'un programmeur peut spécifier une référence en mémoire.
Lorsque l'édition des liens est faite, la référence mémoire
sera remplacée par son adresse.
Cette directive est principalement utilisée afin
de permettre la création de vecteur d'intérruption.
La directive est utilisée de cette manière: <strong>.dataMemref referenceMemoire</strong></li>
</ul>
</li>
<li>".dataNumeric"
<ul>
<li>C’est la même chose que .dataAlpha sauf que
cela permet au programmeur d’utiliser des
valeurs numériques de 32 bits. Exemple
d’utilisation :
<strong>.dataNumeric 0xFFFFFFFF</strong></li>
</ul>
</li>
<li>"$"
<ul>
<li>Est le préfixe de registre. Chaque registre,
lorsqu’il est utilisé dans une instruction,
doit être précédé par le caractère
"$".</li>
</ul>
</li>
<li>"#"
<ul>
<li>Est le préfixe de valeur immédiate. Chaque
valeur immédiate (sauf lors de l’utilisation
d’un symbole) doit être précédée par le
caractère "#".
De multiples variantes sont possibles pour les
valeurs immédiates :
#0xFF
#255
#-1
#0b11111111</li>
</ul>
</li>
</ul>
<h5><a id="user-content-exemple-programme-court" class="anchor" aria-hidden="true" href="#exemple-programme-court"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple: programme court</h5>
<p>Voici un exemple de programme qui permet de calculer la
longueur d'une chaîne de caractères.</p>
<pre><code>; File Length.casm
; This will calculate the length of testString
.global start
start:
    JMP &lt;&gt; stackSetup   ;Jump over the string
    
testString:
.dataAlpha This is a test string

stackSetup:
    MOV stack $S        ;Stack is now usable
codeStart:
    PUSH testString
    CALL strlen
    SUB #0x4 $S         ;stack reset
end:

;Following is the length calculation
;strlen(stringPointer)
strlen:
    MOV $S $A
    SUB #0x4 $A         ;Calculate parameter offset
    MEMR [4] $A $A      ;Get parameter in register A
    MOV $A $C           ;Keep pointer to string start
lenover:
    MEMR [1] $A $B
    CMP #0x00 $B        ;are we at the end of the string?
    JMP &lt;E&gt; gotlen
    ADD #0x1 $A
    JMP &lt;&gt; lenover      ;not at the end, jump back
gotlen:
    SUB $C $A           ;A will hold the len of the string at this point.
    RET                 ;return value in register A

; Stack is at the end of the program.
; No risk of overwriting the program
stack:
</code></pre>
<p>Afin d'assembler ce fichier, vous pouvez utiliser la commande suivante:</p>
<blockquote>
<p>python3 Assembler.py -i strlen.casm -o strlen.o</p>
</blockquote>
<p>Vous pouvez obtenir de l'aide au sujet de l'assembleur en utilisant l'option "-h" lorsque
vous lancer l'assembleur.</p>
<h2><a id="user-content-linkerpy" class="anchor" aria-hidden="true" href="#linkerpy"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Linker.py</h2>
<h5><a id="user-content-survol-1" class="anchor" aria-hidden="true" href="#survol-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Survol</h5>
<p>Capua possède également son propre éditeur de
liens. Cet éditeur de liens est destiné à être utilisé
pour aider à la création de fichiers binaires plats.
L’éditeur de liens peut lier plusieurs fichiers.
Étant donné que les fichiers binaires produits par
l’éditeur de liens sont destinés à être utilisés
"sur le métal" (baremetal), aucun processus d'édition de liens dynamique n’est disponible.
Toutes les adresses, suivant l'édition des liens,
sont codées en dur dans le fichier binaire résultant.
Cela signifie que l’éditeur de liens a besoin de
connaître, au moment de l’établissement de liens,
l’adresse mémoire où le fichier binaire doit être
chargé. Si l’adresse de chargement n’est pas fournie,
le fichier binaire lié est chargé à l’adresse
MEMORY_START_AT (la valeur par défaut est
0x40000000). Cela est pratique pour effectuer des tests
puisque l’unité d’exécution commence à exécuter
les instructions à cette adresse.</p>
<h5><a id="user-content-attention" class="anchor" aria-hidden="true" href="#attention"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attention!</h5>
<p>Lors de la liaison de plusieurs fichiers, l’ordre dans
lequel les fichiers sont donnés à l’éditeur de liens revêt une IMPORTANCE MAJEURE. Les
fichiers sont positionnés dans le fichier binaire final dans
l'ordre d’insertion dans l’éditeur de liens.</p>
<h5><a id="user-content-note-à-propos-des-symboles" class="anchor" aria-hidden="true" href="#note-à-propos-des-symboles"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Note à propos des symboles</h5>
<p>L’éditeur de liens génère un fichier ".sym" dans le
même dossier que le fichier binaire final. Ce fichier
est simplement une liste de symboles et d’adresses.
Ce fichier, s'il est disponible, est chargé lorsque vous
exécutez le fichier binaire dans le débogueur. Ceci vous
permet d’utiliser des noms de symbole à la place
d’adresse mémoire lors de l’exécution du fichier
binaire dans le contexte du débogueur. Notez que
tous les symboles présents dans le fichier ".sym" ont été
modifiés avec le nom de leur fichier d’origine
comme préfixe. Les noms de symbole eux-mêmes
sont également mis en majuscules.</p>
<h5><a id="user-content-utilisation" class="anchor" aria-hidden="true" href="#utilisation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Utilisation</h5>
<p>Afin de procéder à l'édition des liens sur le fichier ".o" créé plus tôt, vous pouvez
utiliser la commande suivante:</p>
<blockquote>
<p>python3 Linker.py -i strlen.o -o strlen.bin</p>
</blockquote>
<p>Dans l'éventualité où vous voudriez lier plusieurs fichiers ".o", le nom
de ceux-ci peut être ajouté à l'entré de l'éditeur de liens:</p>
<blockquote>
<p>python3 Linker.py -i main.o subFile.o -o main.bin</p>
</blockquote>
<h2><a id="user-content-debuggerpy" class="anchor" aria-hidden="true" href="#debuggerpy"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Debugger.py</h2>
<p>Le débogueur est l'interface du programmeur à l'intérieur de la machine virtuelle.
Lancer le débogueur, c'est lancer la machine virtuelle.
Le débogueur est simple. Il possède presque
toutes les fonctionnalités de base offertes par la
plupart des débogueurs. À l’heure actuelle, il existe
trois grandes limitations. La première est que vous
ne pouvez pas modifier la valeur d'un registre ou une
valeur de mémoire avec le débogueur. Vous ne
pouvez pas non plus « sauter par dessus » un appel
de fonction facilement. Pour cela, vous devriez
placer un point d’arrêt au retour de l’appel de
fonction. La dernière limitation est que vous ne
pouvez pas "recharger" le programme
sans relancer le débogueur. Toutes ces
caractéristiques sont notées et seront ajoutées à un
moment ultérieur. L’utilisation du
débogueur est simple et facile. Il suffit d’exécuter le
débogueur avec l’option « -h » pour apprendre les fonctions de base.
Une fois lancé, le débogueur s’arrête avant l'exécution
de la première instruction. Vous pouvez accéder
au menu d’aide du débogueur en tapant « h » ou
« help » à l’invite du débogueur.</p>
<p>Afin de lancer le fichier binaire créé plus tôt, vous pouvez utiliser la commande suivante:</p>
<blockquote>
<p>python3 Debugger.py -i main.bin</p>
</blockquote>
<h5><a id="user-content-note-importante-au-sujet-du-processus-de-démarrage-virtuel" class="anchor" aria-hidden="true" href="#note-importante-au-sujet-du-processus-de-démarrage-virtuel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Note importante au sujet du processus de démarrage virtuel</h5>
<p>Si le débogueur est lancé sans aucun paramètre. Celui-ci utilisera le code du "firmware" présent
dans le fichier CapuaEnvironment/firmware.bin. Pour que ceci fonctionne, le fichier CapuaEnvironment/firmware.casm
doit être assemblé puis lié afin de créer le fichier binaire final. Ce fichier, lorsque chargé
tentera d'effectuer une validation du disque rigide. Si cette validation fonctionne, le
premier secteur du disque rigide sera chargé à l'addresse MEMORY_START_AT (valeur par défaut 0x40000000)
et commencera l'exécution du code nouvellement chargé. Ceci a pour objectif de simuler le
processur de démarrage d'un ordinateur. Le code source du "firmware" peut être inspecté pour
plus de détails.</p>
<h2><a id="user-content-harddrivecreatorpy" class="anchor" aria-hidden="true" href="#harddrivecreatorpy"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HardDriveCreator.py</h2>
<p>C'est outil est simplement un outil d'aide visant à générer un fichier binaire
vide d'une taille acceptable pour la machine virtuelle. L'outil procédera à la validation
de la configuration de la machine virtuelle afin de créer un fichier de la bonne taille.
Par défault, un fichier de 1Mo est créé.
La machine, afin de fonctionne correctement, demmande la présence d'un fichier HD.bin à la
racine du projet. Vous pouvez générer ce fichier à l'aide de la commande:</p>
<blockquote>
<p>python3 HardDriveCreator.py -o HD.bin</p>
</blockquote>
<p>L'absence du fichier HD.bin à la racine du projet causera un disfonctionnement au démarrage
de la machine virtuelle (que le "firmware" soit utilisé ou non)</p>
<h1><a id="user-content-gestion-des-intérruptions-sur-capua" class="anchor" aria-hidden="true" href="#gestion-des-intérruptions-sur-capua"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gestion des intérruptions sur Capua</h1>
<p>Capua permet de gérer les interruptions à partir de sources matérielles et logicielles.
Pour que les intérruptions soient traitées, la gestion des interruptions doit d'abord être activée.
Lorsque la machine virtuelle démarre,
la gestion des interruptions est désactivée.
On peut activer la gestion des interruptions en utilisant l'instruction suivante</p>
<blockquote>
<p>ACTI</p>
</blockquote>
<p>Inversement, la gestion des interruptions peut être désactivée en utilisant l'instruction</p>
<blockquote>
<p>DACTI</p>
</blockquote>
<p>Sur Capua, la gestion des interruptions se fait à l'aide du registre de
vecteur d'interruption (IVR). L'IVR doit être configuré avec un pointeur
vers un vecteur de pointeurs sur des routines de gestion des intérruptions.
Chaque interruption matérielle est associée à une valeur numérique
(les interruptions logicielles spécifient leur propre valeur).
Lorsqu'une interruption matérielle se produit, la gestion des interruptions
est désactivée et l'exécution reprend à la routine de gestion d'interruptions
correspondant à un numéro d'interruption. Le processus est semblable pour
les interruptions logicielles. Cependant, le traitement des interruptions n'est
pas désactivé lors de la gestion d'une interruption logicielle. Ceci permet au système de
recevoir les interruptions matérielles lors de la gestion d'une interruption de logiciel.
Lors de l'interruption, la routine de gestion est sélectionnée à partir du
vecteur d'interruption suivant cette formule:</p>
<pre><code>IN est le numéro d'interruption
Vecteur est l'adresse du vecteur d'intéruption
Routine est l'address à laquelle l'adresse de la routine de gestion appropriée peut être trouvée

Routine = Vecteur + (IN * 4)
</code></pre>
<p>Il est de la plus haute importance que le programmeur comprenne que, pendant la gestion
d'une interruption matérielle, toutes les interruptions sont désactivées sur le système.
La plupart des périphériques sur Capua utiliseront une cache afin de conserver
les intérruptions et pouvoir les livrer plus tard. Cependant, ceci n'est pas garanti.
Certaines interruptions peuvent être perdues si l'exécution demeure
à l'intérieur d'une routine de gestion des interruptions trop longtemps.
à la fin de la routine de gestion, dans le cas d'une interruption matérielle,
une instruction de retour spéciale doit être utilisée:</p>
<blockquote>
<p>HIRET</p>
</blockquote>
<p>L'instruction HIRET fait un peu plus que simplement permettre le retour.
Elle réactive également la gestion des interruptions sur le noyau et s'assure
que le registre FLAGS est réinitialisé à la même valeur qu'il était avant l'arrivée
de l'intérruption.
L'instruction HIRET ne doit pas être utilisée pour retourner des routines de gestion
des interruptions logicielles.</p>
<p>Le retour d'une d'une intérrruption logicielle est faite, comme un retour de fonction, en utilisant
l'instruction "RET".</p>
<h5><a id="user-content-configuration-des-intérruptions" class="anchor" aria-hidden="true" href="#configuration-des-intérruptions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration des intérruptions</h5>
<p>Sur Capua, à l'heure actuelle, seuls les 4 premiers vecteurs d'interruptions sont utilisés.
Les vecteurs 0 à 31 devraient tous être considérés comme réservés.
Un gestionnaire d'intérruptions logicielles ne doit donc pas les utiliser. Voici la
la cartographie d'interruption actuelle:</p>
<ul>
<li>0 est mappé sur INTERRUPT_CLOCK
<ul>
<li>L'intérruption 0 est générée par l'horloge d'intérruption à un interval configuré</li>
</ul>
</li>
<li>1 est mappé sur INTERRUPT_KEYBOARD
<ul>
<li>L'intérruption 1 est générée par le clavier du terminal dès qu'une touche est enfoncée</li>
</ul>
</li>
<li>2 est mappé sur INTERRUPT_HARD_DRIVE_DONE_READ
<ul>
<li>L'intérruption 2 est générée par le disque rigide quand une opération de lecture est terminée</li>
</ul>
</li>
<li>3 est mappé sur INTERRUPT_HARD_DRIVE_DONE_WRITE
<ul>
<li>L'intérruption 3 est générée par le disque rigide quand une opération d'écriture est terminée</li>
</ul>
</li>
</ul>
<h6><a id="user-content-note-importante" class="anchor" aria-hidden="true" href="#note-importante"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Note importante:</h6>
<p>On pourrait ne pas comprendre pourquoi un programmeur doit mettre
en place un gestionnaire d'interruptions logicielles à la palce de simplement utiliser
des appels de fonction. Après tout, il n'y a pas de différence, ou presque, entre une
interruption logicielle et un appel de fonction.
Cependant, bien que non supportés à l'heure actuelle, le support pour la mémoire virtuelle
et des niveaux de privilège multiples est présentement en cours de développement sur Capua. Il est donc
actuellement recommandé d'utiliser les fonctions d'interruption pour tout ce qui serait normalement
fourni à l'utilisateur par le noyau d'un système d'exploitation. Suivre cette recommandation
permettra d'éviter de futurs problèmes.</p>
<p>L'exemple de code suivant montre comment gérer les intérruptions logicielles et matérielles.
Il montre aussi comment configurer le registre IVR.</p>
<pre><code>; This example shows how multiple hardware interrupts
; can be mapped to the same code. It also show how to
; properly handle software interrupts and setup the
; IVR
.global start:

start:
    MOV end $S                      ; Stack grows up, setting S to the end is generally safer
                                    ; The stack needs to be configured for interrupt handling to work
    MOV vector $A
    SIVR $A                         ; Set the interrupt vector to "vector"
    ACTI                            ; Interrupt handling activation
    int #4                          ; Software interrupt #4
                                    ; Since IVR is set to vector, the routine used when int #4 is executed will be
                                    ; determined by:
                                    ; routine = vector + (4 * 4)
                                    ; Since each entries are 4 bytes long
                                    ; routine = testHandler

loop:
    NOP
    JMP &lt;&gt; loop

clockHandler:                   ; All hardware interrupts are mapped to this empty handler
keyboardHandler:
hardDriveReadHandler:
hardDriveWriteHandler:
    HIRET

testHandler:                    ; Just a demonstrative software handler
    MOV #0xFFFFFFFF $A
    MOV #0xAAAAAAAA $B
    RET

vector:                         ; The vector is built using the dataMemRef marker
.dataMemRef clockHandler
.dataMemRef keyboardHandler
.dataMemRef hardDriveReadHandler
.dataMemRef hardDriveWriteHandler
.dataMemRef testHandler
end:
</code></pre>
<h1><a id="user-content-matériel-mappé-en-mémoire" class="anchor" aria-hidden="true" href="#matériel-mappé-en-mémoire"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Matériel mappé en mémoire</h1>
<p>La machine virtuelle supporte le matériel mappé en mémoire.
Le matériel mappé en mémoire est
accessible à l'aide d'adresses mémoire spécifiques.
La façon dont chaque élément matériel doit être utilisé est
spécifique à chaque appareil.</p>
<h2><a id="user-content-horloge-clock" class="anchor" aria-hidden="true" href="#horloge-clock"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Horloge (Clock)</h2>
<pre><code>Adresse de mappage: 0x20000100
Opération permise: Lecture
</code></pre>
<p>L'horloge a pour objectif d'offrir une source d'entropie à l'utilisateur.
et non pas pour fournir l'heure à l'utilisateur.
La lecture de 4 octets à l'adresse mappée fournira une valeur
basé sur le code python suivant:</p>
<blockquote>
<p>int((time.time() * 10000000)) &amp; 0xFFFFFFFF</p>
</blockquote>
<p>L'exemple de code suivant montre comment accéder à l'horloge:</p>
<pre><code>MOV #0x20000100 $A
MEMR [4] $A $B          ; The clock value will be in register $B
</code></pre>
<h2><a id="user-content-horloge-dintérruption-interrupt-clock" class="anchor" aria-hidden="true" href="#horloge-dintérruption-interrupt-clock"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Horloge d'intérruption (Interrupt Clock)</h2>
<pre><code>Adresse de mappage: 0x20000300
Opération permise: Lecture/Écriture
</code></pre>
<p>Lors de l'écriture de 4 octets à l'adresse mappée, l'horloge d'interruption commence à générer
des interruptions matérielles à la fréquence (millisecondes) définie par la valeur de 4 octets écrite à
l'adresse de mappage. Pour que l'unité d'exécution puisse recevoir
les interruptions générées, les interruptions doivent avoir été activées
sur ce dernier. Aucune interruption n'est générée (même
si les interruptions sont activées) si aucune opération d'écriture n'a été effectuée
à l'adresse mappée de l'horloge d'intérruption.</p>
<p>L'exemple de code suivant montre comment configurer la fréquence de l'horloge:</p>
<pre><code>MOV #0x20000300 $A
MEMW [4] #0xFF $A       ; Will set the frequency to 255 ms
</code></pre>
<h2><a id="user-content-disque-rigide-hard-drive" class="anchor" aria-hidden="true" href="#disque-rigide-hard-drive"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Disque rigide (Hard Drive)</h2>
<pre><code>Adresse de mappage: 0x20000400
Opération permise: Lecture/Écriture
</code></pre>
<p>Un élément important doit être noté. Le disque dur lui-même n'est pas
cartographié à l'adresse de mappage. C'est le contrôleur du disque dur qui
est mappé sur cette addresse.
C'est celui-ci qui est utilisé pour accéder au disque dur.</p>
<p>Pour pouvoir accéder au disque, une structure spécifique doit être écrite à
l'adresse de mappage. Chaque opération faite sur le disque demande que cette
structure soit écrite de manière correcte.</p>
<p>Structure d'opérations d'accès au disque:</p>
<ul>
<li>0x20000400 = 0x0 pour une opération de lecture ou 0x01 pour une écriture</li>
<li>0x20000404 = Le numéros LBA qui fait l'objet d'une opération (décallage de 512 octets)</li>
<li>0x20000408 = Addresse mémoire devant être utilisée pour la lecture ou l'écriture</li>
<li>0x2000040C = Déclanchement de l'action = Quand ceci est mis à 1 l'action est déclanchée.
<ul>
<li>Ce champ doit être remis à 0 manuellement entre chaque opération faite sur le disque.</li>
</ul>
</li>
</ul>
<p>Après une opération sur le disque, une intérruption sera généré selon l'opération.</p>
<p>L'exemple de code suivant montre comment lire un bloque de données à partir
du disque.</p>
<pre><code>; This will test the correct working order of the hard drive read operation
.global start

start:
    MOV readBuffer $S
    ADD #1024 $S            ; Set the stack (needs to be set to handle interrupts
    MOV vector $A
    SIVR $A                 ; Set the Interrupt vector
    ACTI                    ; activates the interrupts
    
    MOV #0x20000400 $A
    MEMW [4] #0x0 $A        ; Set read action
    ADD #4 $A
    MEMW [4] #0x0 $A        ; Set LBA
    ADD #4 $A
    MEMW [4] readBuffer $A ; Set destination buffer
    ADD #4 $A
    MEMW [4] #0x01 $A       ; Set the trigger

waitLoop:
    NOP
    JMP &lt;&gt; waitLoop

clockHandler:
    HIRET
keyboardHandler:
    HIRET
hardDriveReadHandler:
    ; Do nothing in the handler, this is just an example
    HIRET

hardDriveWriteHandler:
    HIRET

vector:
.dataMemRef clockHandler
.dataMemRef keyboardHandler
.dataMemRef hardDriveReadHandler
.dataMemRef hardDriveWriteHandler

readBuffer:
end:
</code></pre>
<p>Une opération d'écriture sur le disque est très similaire à l'exception que l'opération
d'écriture doit être utilisée.</p>
<h2><a id="user-content-terminal" class="anchor" aria-hidden="true" href="#terminal"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Terminal</h2>
<pre><code>Adresse de mappage: 0x20001000 (Affichage), 0x20001800 (Clavier)
Opération permise: Lecture/Écriture
</code></pre>
<p>Le terminal est un appareil spécial car il permet l'affichage d'information (à l'écran)
ainsi que la saisie d'information à partir du clavier.
Ainsi, le terminal est, en réalité, 2 appareils en un seul.</p>
<h5><a id="user-content-terminal---affichage" class="anchor" aria-hidden="true" href="#terminal---affichage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Terminal - affichage</h5>
<p>L'écran permet un affichage de 80x25 caractères. Le caractère 0 (x=0, y=0, ou celui situé
dans le coin supérieur gauche) est mappé à l'addresse 0x20001000. Le caractère
1 (x=1, y=0) est mappé à l'addresse 0x20001001. La mémoire est linéaire. Ceci
signifie que le caractère 0 de la ligne 1 (x=0, y=1) est le caractère numéro 80.
Ce caractère est donc mappé à l'adresse 0x20001000 + 80.
Afin d'être en mesure d'afficher un caractère à l'écran, le programmeur doit
écrire la valeur ascii d'un caractère à l'adresse appropriée.</p>
<p>L'exemple suivant montre un extrait de code qui permet d'afficher "ABCD"
dans le coin suppérieur gauche de l'écran.</p>
<pre><code>; This will print ABCD on the screen
.global codeStart

codeStart:
    MOV #0x20001000 $A      ; Display address
    MOV #0x41424344 $B      ; ABCD ascii code
    MEMW [4] $B $A
</code></pre>
<h5><a id="user-content-terminal---clavier" class="anchor" aria-hidden="true" href="#terminal---clavier"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Terminal - clavier</h5>
<p>Afin de fonctionner, le clavier demande que la gestion des intérruptions soit
configurée et activée. Lorsque l'utilisateur appuie sur une touche du clavier,
une intérruption de clavier est générée et le contrôle est transféré à la routine
de gestion d'intérruption du clavier. À ce moment le code de lecture (attention, code
de lecture et non pas code ascii) pour la touche activée est disponible à la lecture
à l'adresse 0x20001800.
Dans l'éventualité où une intérruption du clavier ne peut être livrée à l'unité
d'exécution, le clavier possède une mémoire tampon pouvant contenir un maximum
de 20 codes de lecture. L'intérruption sera donc livrée à un moment ultérieur.
Dans le cas où la mémoire du clavier est pleine avant que l'intérruption soit
livrée, les code les plus vieux seront éliminés de la mémoire du clavier.</p>
<p>L'exemple de code suivant montre comment lire le code de lecture d'une touche
à l'intérieur d'une routine de gestion d'intérruption pour le clavier.</p>
<pre><code>; This will print scan code to the top left of the screen
; if a scan code does not happen to map to a printable
; character, nothing will be visible.
.global start

start:
    MOV end $S
    MOV vector $A
    SIVR $A
    ACTI

loop:
    NOP
    JMP &lt;&gt; loop

clockHandler:
    HIRET

keyboardHandler:
    MOV #0x20001800 $A
    MEMR [1] $A $B
    MOV #0x20001000 $A
    MEMW [1] $B $A
    HIRET

vector:
.dataMemRef clockHandler
.dataMemRef keyboardHandler
end:
</code></pre>
<h2><a id="user-content-format-de-fichier-o-de-capua" class="anchor" aria-hidden="true" href="#format-de-fichier-o-de-capua"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Format de fichier ".o" de Capua</h2>
<p>Le format de fichier Capua est très simple. Pour des raisons évidents,
des "bugs" sont associés au format lui-même. Ces problèmes seront résolut
lorsque le format de fichier sera remplacé. Pour l'instant, le format
fonctionne correctement dans la majorité des cas.</p>
<p>En voici la forme générale:</p>
<pre><code>&lt;AssemblySize&gt;&lt;/AssemblySize&gt;
&lt;ExternalSymbols&gt;
    &lt;refName&gt;&lt;/refName&gt;
    &lt;refAdd&gt;&lt;/refAdd&gt;
    ...
&lt;/ExternalSymbols&gt;
&lt;InternalSymbols&gt;
    &lt;refName&gt;&lt;/refName&gt;
    &lt;refAdd&gt;&lt;/refAdd&gt;
    ...
&lt;/InternalSymbols&gt;
&lt;Text&gt;...&lt;/Text&gt;
&lt;/code&gt;
</code></pre>
<p>Le texte qui suit explique le détail de tous les éléments
faisant parti du format de fichier.</p>
<ul>
<li>AssemblySize
<ul>
<li>Cette balise contient la taille prévue de la version
finale liée de ce fichier. La taille est encodée en
format "big endian" à
l’intérieur de la balise. Le calcul de taille a été
intégré à l’assembleur puisqu’il était plus facile
et plus rapide de le placer à cet endroit. De plus, l’information
est accessible à l’éditeur de liens
lorsque celui-ci doit calculer l’adresse à l’échelle du
fichier parmi plusieurs fichiers qui doivent être
reliés.</li>
</ul>
</li>
<li>ExternalSymbols
<ul>
<li>Cette balise contient une liste de balises (couples
refName/refAdd). Les symboles présents dans la
liste ExternalSymbols sont considérés comme
"globaux" et, par conséquent, sont à la disposition
de l’éditeur de liens lorsque celui-ci relie plusieurs
fichiers.</li>
</ul>
</li>
<li>InternalSymbols
<ul>
<li>Cette balise est la même que ExternalSymbols sauf
que les symboles énumérés dans cette balise ne
sont pas accessibles à l’éditeur de lien au moment
de lier plusieurs fichiers. Ceci a
pour but de prévenir les problèmes de collision de
noms à l’échelle globale (externe) au moment de
la liaison.</li>
</ul>
</li>
<li>refName
<ul>
<li>Une balise refName doit se trouver à l’intérieur
d’une balise ExternalSymbols ou d’une balise
InternalSymbols. Elle doit également être suivie
d’une balise refAdd. La balise refName contient
simplement la version texte du nom de symbole.
Le nom de symbole est déterminé par la
référence/appellation de la mémoire dans le code
assembleur écrit par le programmeur.</li>
</ul>
</li>
<li>refAdd
<ul>
<li>Cette balise suit une balise refName et indique
simplement le décalage où le symbole se
trouve à partir de l’adresse 0 (par rapport au début
du fichier). Notez que le décalage est relatif à un
fichier entièrement relié, pas à un fichier objet (.o).
Cette adresse remplace éventuellement le nom de
symbole lorsque le fichier est relié.</li>
</ul>
</li>
<li>Text
<ul>
<li>La balise Text contient le fichier binaire
assemblé du fichier objet. Un examen attentif
révélera la présence de noms de symboles à
l’intérieur de la balise de texte. Ceux-ci sont
remplacés au moment de l'édition des liens. Les symboles
sont présents dans la section de texte, sous la forme :
":SymbolName:". Il ne s’agit pas d’une solution
parfaite (ni même d’une bonne solution), mais elle
est rapide. (Gardez toujours à l’esprit qu’à l’origine,
ces outils ont été écrits pour tester l’unité
d’exécution, non pas pour être utilisés par des programmeurs).</li>
</ul>
</li>
</ul>
<hr>
<p>This file is part of Spartacus project
Copyright (C) 2017  CSE</p>
<p>This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along
with this program; if not, write to the Free Software Foundation, Inc.,
51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.</p>
</article>
  </div>

  </div>

  <button type="button" data-facebox="#jump-to-line" data-facebox-class="linejump" data-hotkey="l" class="d-none">Jump to Line</button>
  <div id="jump-to-line" style="display:none">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-jump-to-line-form" action="" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
      <input class="form-control linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
      <button type="submit" class="btn">Go</button>
</form>  </div>


  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>

      
<div class="footer container-lg px-3" role="contentinfo">
  <div class="position-relative d-flex flex-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap ">
      <li class="mr-3">&copy; 2018 <span title="0.38940s from unicorn-1029602330-fhmk7">GitHub</span>, Inc.</li>
        <li class="mr-3"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
        <li class="mr-3"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
        <li class="mr-3"><a href="https://help.github.com/articles/github-security/" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li class="mr-3"><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com">Help</a></li>
    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon" href="https://github.com">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>
   <ul class="list-style-none d-flex flex-wrap ">
        <li class="mr-3"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
      <li class="mr-3"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li class="mr-3"><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li class="mr-3"><a href="https://blog.github.com" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>

    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
    </button>
    You can’t perform that action at this time.
  </div>


    
    <script crossorigin="anonymous" integrity="sha512-HD3VGNUZdKcyhzxthfJME6V4ByRTPdCGqlqq7sPm8jFweQQjz00nAJzWMAR9GUDiP2yYWqSxM6JxNxc2J/4rGQ==" type="application/javascript" src="https://assets-cdn.github.com/assets/frameworks-2afbd5df19ed1f9aaf0a04c15e9d0b35.js"></script>
    
    <script crossorigin="anonymous" async="async" integrity="sha512-TZ2vAZH4qwq3SYZtgCUFoTUt5N+cXEJloLuYgBhtgI9i5MXBzo1NBysDq+Cw/cHacy/vIJFcgFA2ujl2tqY93w==" type="application/javascript" src="https://assets-cdn.github.com/assets/github-30c315fedd96fda67960298b00dcf239.js"></script>
    
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
    </button>
  </div>
</div>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>

<div id="hovercard-aria-description" class="sr-only">
  Press h to open a hovercard with more details.
</div>


  </body>
</html>

